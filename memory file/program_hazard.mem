// ==========================================
// LOAD-USE HAZARD TEST PROGRAM
// Testing hazard detection and stalls
// ==========================================

// ------------------------------------------
// TEST 1: LDD followed by ADD (STALL expected)
// ------------------------------------------

// [0x00-0x01] LDM R0, 0x50
C0
50

// [0x02-0x03] LDD R1, 0x50 (Load from memory address 0x50)
C5
50

// [0x04] ADD R0, R1 -> STALL (R1 not ready yet)
21

// [0x05] OUT R0
78

// ------------------------------------------
// TEST 2: LDI followed by SUB (STALL expected)
// ------------------------------------------

// [0x06-0x07] LDM R0, 0x60
C0
60

// [0x08] LDI R1 (Load indirect from memory[R0])
D1

// [0x09] SUB R0, R1 -> STALL (R1 not ready yet)
31

// [0x0A] OUT R0
78

// ------------------------------------------
// TEST 3: LDD with NOP (NO STALL)
// ------------------------------------------

// [0x0B-0x0C] LDD R1, 0x70 (Load from memory address 0x70)
C5
70

// [0x0D] NOP (gives time for R1 to be ready)
00

// [0x0E] ADD R0, R1 (no stall - R1 is ready)
21

// [0x0F] OUT R0
78

// ------------------------------------------
// REMAINING MEMORY (0x10 - 0xFF) - All NOPs
// ------------------------------------------
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00
00